<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Gate Scanner â€” EventPass</title>

</head>
<body>
<div class="wrap">
  <header>
    <div class="logo">
      <div class="logo-icon">E</div>
      <h1>EventPass</h1>
    </div>
    <nav>
        <a href="index.html">Home</a>
      <a href="events.html">Events</a>
      <a href="dashboard.html">Dashboard</a>
      <a href="admin.html">Admin</a>
    </nav>
  </header>

  <div class="page-header">
    <h2>ğŸ“± Gate Scanner</h2>
    <p>Scan QR codes to verify and check-in attendees</p>
  </div>

  <div class="grid">
    <main>
      <!-- Scanner Card -->
      <div class="card">
        <h3>ğŸ“· Live QR Scanner</h3>
        <div id="reader"></div>
        <div id="scanResult" class="scan-status status-idle">
          Ready to scan...
        </div>
        
        <div id="offlineBadge" style="display:none" class="offline-badge">
          <span class="pulse-dot"></span>
          <span id="offlineCount">0 scans pending sync</span>
        </div>
        
        <div class="btn-group">
          <button class="btn btn-warning" onclick="syncOffline()">
            ğŸ”„ Sync Offline Scans
          </button>
        </div>
      </div>

      <!-- Manual Verify Card -->
      <div class="card">
        <h3>âŒ¨ï¸ Manual Verification</h3>
        <div class="form-group">
          <label>QR Token or Ticket ID</label>
          <input id="manualToken" placeholder="Paste token or enter ticket ID">
        </div>
        <div class="btn-group">
          <button class="btn btn-primary" onclick="manualVerify()">
            âœ“ Verify
          </button>
          <button class="btn btn-secondary" onclick="searchByPhone()">
            ğŸ” Search by Phone
          </button>
        </div>
      </div>

      <!-- Activity Log Card -->
      <div class="card">
        <h3>ğŸ“Š Recent Activity</h3>
        <div id="activity" class="activity-list">
          <div class="empty-activity">No scan activity yet</div>
        </div>
      </div>
    </main>

    <aside>
      <!-- Stats Card -->
      <div class="card">
        <h3>ğŸ“ˆ Session Stats</h3>
        <div class="stats-grid">
          <div class="stat-box">
            <div class="stat-value" id="successCount">0</div>
            <div class="stat-label">Successful</div>
          </div>
          <div class="stat-box">
            <div class="stat-value" id="failedCount">0</div>
            <div class="stat-label">Failed</div>
          </div>
        </div>
      </div>

      <!-- Info Card -->
      <div class="card">
        <h3>â„¹ï¸ Scanner Info</h3>
        
        <div class="info-card">
          <h4>ğŸ”Œ Offline Mode</h4>
          <p>Scans are saved locally when offline. Use "Sync Offline Scans" to upload when connection returns.</p>
        </div>
        
        <div class="info-card">
          <h4>ğŸš« Duplicate Prevention</h4>
          <p>Each QR code can only be scanned once. Duplicate attempts are automatically blocked.</p>
        </div>
        
        <div class="info-card">
          <h4>âš¡ Quick Tips</h4>
          <p>â€¢ Hold QR code steady in frame<br>
          â€¢ Ensure good lighting<br>
          â€¢ Keep 6-12 inches away<br>
          â€¢ Use manual entry if needed</p>
        </div>
      </div>
    </aside>
  </div>
</div>

<!-- html5-qrcode library -->

</body>
</html>